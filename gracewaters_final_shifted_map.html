<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Grace Waters – Final Shifted Estate Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    html, body, #map { height: 100%; margin: 0; }
    .legend { background: white; padding: 10px 12px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,.15); }
    .legend h4 { margin: 0 0 6px; font: 600 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif }
    .legend .row { display:flex; align-items:center; gap:8px; margin:4px 0; font: 13px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif }
    .swatch { width: 12px; height: 12px; border-radius: 3px; display:inline-block; border:1px solid #bbb; }
    .brand { position:absolute; top:12px; left:12px; background:rgba(255,255,255,.9); padding:8px 10px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,.12); font:600 14px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .btn { position: absolute; bottom: 16px; left: 16px; background: white; border: 0; padding: 10px 12px; border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,.15); cursor: pointer; font: 13px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="brand">GraceOnly Estates • Grace Waters</div>
  <button class="btn" id="fitBtn">Zoom to Estate</button>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map', { zoomControl: true });
    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { attribution: 'Tiles &copy; Esri' }).addTo(map);

    const boundary = {"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {"name": "Estate Boundary"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084196815820882, 4.804337784964267], [7.083895720923724, 4.8047009721723155], [7.083389719229789, 4.80528810835629], [7.082408276072497, 4.806426987263944], [7.085558684267395, 4.809847935880544], [7.085905303991819, 4.809502804727113], [7.086716186806169, 4.808965973968938], [7.0871411452927555, 4.808744899588773], [7.084196815820882, 4.804337784964267]]]}}]};
    const roads = {"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {"name": "Estate Road (approx)"}, "geometry": {"type": "LineString", "coordinates": [[7.086886521778678, 4.80836485916477], [7.086207605071528, 4.808848317662794], [7.086120203713551, 4.808932544216872], [7.085531944516379, 4.809818870124166], [7.085467957343325, 4.809749388449714], [7.086049076805211, 4.808862052840659], [7.086046519301548, 4.808833975226574], [7.085804493093137, 4.808579834910368], [7.085784729909214, 4.808578564698366], [7.0851227493392885, 4.809225674831317], [7.08508488620523, 4.809187216333293], [7.08574743741309, 4.808539498941989], [7.085746156407554, 4.808518579071345], [7.085577064578349, 4.808341023376053], [7.085538255789957, 4.808340046911805], [7.085098521116367, 4.808757682556793], [7.08510770991962, 4.808767296282988], [7.0850620165152725, 4.808810664949894], [7.08294113741452, 4.806591789635485], [7.082943591247783, 4.80649134227652], [7.083401231151456, 4.806056985467321], [7.0834024742947586, 4.806018593444325], [7.083189639867665, 4.805788758733581], [7.083242137656095, 4.805726958517986], [7.083459753542274, 4.805964231245259], [7.083497581518546, 4.8059655373897066], [7.084351506479483, 4.805155056793228], [7.084352845179849, 4.805116577634047], [7.083859565196059, 4.804574666027867], [7.0839126723861385, 4.804494567213638], [7.0853446995496165, 4.8060559452229805], [7.086840198238601, 4.808294955284066], [7.086167086172298, 4.808783108356289], [7.086139860522631, 4.80878087605302], [7.08587462476565, 4.808512370842815], [7.085874013561039, 4.808492544216872], [7.086425908788266, 4.807968703038288], [7.086388695622533, 4.807929620213997], [7.085836064786216, 4.808454127041162], [7.085815089109369, 4.808452101349463], [7.085645695283784, 4.808280619136024], [7.085646393932123, 4.808237410368507], [7.086072028530006, 4.807833429951691], [7.08608151482223, 4.807843109254601], [7.086136966766284, 4.807790404439653], [7.085822934704848, 4.807469975046911], [7.0859642194286705, 4.807337317842456], [7.085954090379976, 4.807326069189922], [7.086029546203574, 4.8072540147522655], [7.085992117583708, 4.807215094522298], [7.085775694357855, 4.8074217716692615], [7.085305530168535, 4.806942027687946], [7.085605211542342, 4.806661600990139], [7.085557963983495, 4.80661329969657], [7.085268401742084, 4.806878440731425], [7.085242527413527, 4.80687774184533], [7.084590904868656, 4.806212843354493], [7.084591925345972, 4.806175330778137], [7.08496990130934, 4.805829318381442], [7.085008062833851, 4.805830979358805], [7.085694185985934, 4.8065790785323586], [7.0844319150436945, 4.805202789455823], [7.08492900108334, 4.805744776520141], [7.0849273297362165, 4.805782900846408], [7.084549761242589, 4.806128540443964], [7.084511549235103, 4.806126927077095], [7.084020004603639, 4.805593745258913], [7.084021291919547, 4.805555312811913], [7.084394087067424, 4.805201483311374], [7.083936617543798, 4.8056356784245615], [7.0839744094608, 4.805637017806523], [7.0851897366435335, 4.806913876412344], [7.085188716166218, 4.80695138809039], [7.084760933337377, 4.807342996067393], [7.084722771812867, 4.8073413350900305], [7.083538823406121, 4.806050443965345], [7.083540162106487, 4.806011963907853], [7.083444081282433, 4.806103156865093], [7.083482009323176, 4.806104371381802], [7.084671509054404, 4.807388272747235], [7.084669937771751, 4.8074263054457615], [7.084239720942245, 4.807820132251367], [7.084201151947994, 4.80781885036132], [7.0830048586504635, 4.806567281011698], [7.083006040493009, 4.80651891144648], [7.084275767590622, 4.807896912704116], [7.0842770314680035, 4.807859167465165], [7.084706498264714, 4.807466029664231], [7.084745031199695, 4.807467346588413], [7.085502004505228, 4.8082622073501815], [7.085501022791626, 4.808300950612847], [7.0850806627633345, 4.808699924741485], [7.0850424273173225, 4.808698996786042], [7.085226524309891, 4.806989966962111], [7.085265335802727, 4.8069910161895635], [7.086027188828855, 4.8077683904259985], [7.08602657582128, 4.807802136383598], [7.085608445157301, 4.808198993192797], [7.085564364503765, 4.808198285323591], [7.0847961091544045, 4.807420558050864], [7.084797053005774, 4.807383120932646], [7.0839936335586495, 4.80458284065956], [7.083933268539178, 4.804655635305625], [7.083389739963869, 4.805288067033976], [7.084196815820882, 4.804337784964267], [7.083895720923724, 4.8047009721723155], [7.083389719229789, 4.80528810835629], [7.082408276072497, 4.806426987263944], [7.085558684267395, 4.809847935880544], [7.085905303991819, 4.809502804727113], [7.086716186806169, 4.808965973968938], [7.0871411452927555, 4.808744899588773]]}}]};
    const plots = {"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {"plot_id": "P-001", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084394087067424, 4.805201483311374], [7.084406691584944, 4.805201918992294], [7.084678377443689, 4.805498145187048], [7.084774341976599, 4.805602778676088], [7.084394087067424, 4.805201483311374]]]}}, {"type": "Feature", "properties": {"plot_id": "P-002", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084914969520244, 4.805756108715614], [7.0849140644325885, 4.80577674741486], [7.084774367218088, 4.805904631892043], [7.084623751256899, 4.805741257835269], [7.084914969520244, 4.805756108715614]]]}}, {"type": "Feature", "properties": {"plot_id": "P-003", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084572712967385, 4.805788191000918], [7.084482571104956, 4.805689906775262], [7.084499870539316, 4.805858087695133], [7.084648773685223, 4.806019604044396], [7.084572712967385, 4.805788191000918]]]}}, {"type": "Feature", "properties": {"plot_id": "P-004", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084530655238846, 4.80612773376053], [7.084511549235103, 4.806126927077095], [7.084374559170231, 4.8059783329340835], [7.0842789209737065, 4.805874593264662], [7.084530655238846, 4.80612773376053]]]}}, {"type": "Feature", "properties": {"plot_id": "P-005", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084020004603639, 4.805593745258913], [7.084021291919547, 4.805555312811913], [7.08496990130934, 4.805829318381442], [7.084982622118004, 4.8058298717411265], [7.084020004603639, 4.805593745258913]]]}}, {"type": "Feature", "properties": {"plot_id": "P-006", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08506681420103, 4.805921668363476], [7.085162689487249, 4.80602620483491], [7.08525956722115, 4.806131832754421], [7.085355886937862, 4.806236853415578], [7.08506681420103, 4.805921668363476]]]}}, {"type": "Feature", "properties": {"plot_id": "P-007", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085458534154822, 4.806348771309937], [7.085694883732792, 4.806606469836707], [7.08575450593132, 4.806671477921507], [7.085827814425442, 4.80678109793588], [7.085458534154822, 4.806348771309937]]]}}, {"type": "Feature", "properties": {"plot_id": "P-008", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085714974154582, 4.806881090749391], [7.08578276558053, 4.806952493911446], [7.0860209091071376, 4.807187610691899], [7.085939698224187, 4.807265160997325], [7.085714974154582, 4.806881090749391]]]}}, {"type": "Feature", "properties": {"plot_id": "P-009", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085700290820196, 4.807029613027508], [7.085469641311192, 4.806785707170519], [7.085552445112357, 4.80670990497864], [7.085619152055785, 4.806675852696929], [7.085700290820196, 4.807029613027508]]]}}, {"type": "Feature", "properties": {"plot_id": "P-010", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085373428870807, 4.806419807961033], [7.0854548516019635, 4.8067077166926175], [7.085360556613212, 4.806602970016369], [7.085260942882267, 4.806513698546731], [7.085373428870807, 4.806419807961033]]]}}, {"type": "Feature", "properties": {"plot_id": "P-011", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085164379765489, 4.806412168722801], [7.085062801705858, 4.806307944863656], [7.084964454556739, 4.806208939294127], [7.084869678176746, 4.806111381802212], [7.085164379765489, 4.806412168722801]]]}}, {"type": "Feature", "properties": {"plot_id": "P-012", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084771943133721, 4.806010536491396], [7.084591925345972, 4.806175330778137], [7.084590904868656, 4.806212843354493], [7.084670631912682, 4.806294194414501], [7.084771943133721, 4.806010536491396]]]}}, {"type": "Feature", "properties": {"plot_id": "P-013", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084770933474187, 4.806396539904978], [7.08486859549719, 4.806496191360242], [7.08496191959012, 4.806591416836347], [7.08505989713173, 4.806691390785323], [7.084770933474187, 4.806396539904978]]]}}, {"type": "Feature", "properties": {"plot_id": "P-014", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085164610544812, 4.806598841378209], [7.085353132911183, 4.806800875154709], [7.085268401742084, 4.806878440731425], [7.085242527413527, 4.80687774184533], [7.085164610544812, 4.806598841378209]]]}}, {"type": "Feature", "properties": {"plot_id": "P-015", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085305530168535, 4.806942027687946], [7.085305699647099, 4.8069357844252805], [7.085387017806375, 4.806861343174831], [7.085618483156343, 4.807106107817303], [7.085305530168535, 4.806942027687946]]]}}, {"type": "Feature", "properties": {"plot_id": "P-016", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085858611745715, 4.807342591827364], [7.085775694357855, 4.8074217716692615], [7.085539089660556, 4.807180346049426], [7.085822934704848, 4.807469975046911], [7.085858611745715, 4.807342591827364]]]}}, {"type": "Feature", "properties": {"plot_id": "P-017", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0859642194286705, 4.807337317842456], [7.085954090379976, 4.807326069189922], [7.086029546203574, 4.8072540147522655], [7.086038901780947, 4.807263743462291], [7.0859642194286705, 4.807337317842456]]]}}, {"type": "Feature", "properties": {"plot_id": "P-018", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086109163266828, 4.8072018067033975], [7.086217886470636, 4.807364384856469], [7.086095999830636, 4.8074836572244175], [7.085963462184019, 4.807613350900307], [7.086109163266828, 4.8072018067033975]]]}}, {"type": "Feature", "properties": {"plot_id": "P-019", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086039173126947, 4.807690618237713], [7.086280086005424, 4.807457392402283], [7.086345559721848, 4.807555298438935], [7.086238161696181, 4.8076596238072415], [7.086039173126947, 4.807690618237713]]]}}, {"type": "Feature", "properties": {"plot_id": "P-020", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0861206598633055, 4.807773765021759], [7.086340802602769, 4.8079750756577635], [7.086388695622533, 4.807929620213997], [7.086404374192747, 4.807914736096139], [7.0861206598633055, 4.807773765021759]]]}}, {"type": "Feature", "properties": {"plot_id": "P-021", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086553499103159, 4.807866239869046], [7.08643522830637, 4.807978491036851], [7.086381630710231, 4.808029361500378], [7.086498523141458, 4.808148635664949], [7.086553499103159, 4.807866239869046]]]}}, {"type": "Feature", "properties": {"plot_id": "P-022", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086651841744868, 4.808013295205014], [7.086840198238601, 4.808294955284066], [7.086573634599036, 4.808225277777778], [7.086726465500832, 4.808377436419531], [7.086651841744868, 4.808013295205014]]]}}, {"type": "Feature", "properties": {"plot_id": "P-023", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086571198795407, 4.808490038827005], [7.0864422075779085, 4.808350015470914], [7.086473974892522, 4.808319867249571], [7.086281971003717, 4.808123951870483], [7.086571198795407, 4.808490038827005]]]}}, {"type": "Feature", "properties": {"plot_id": "P-024", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0861823103957216, 4.808218541342276], [7.086374308875636, 4.808414451331497], [7.086395124990217, 4.808617730167286], [7.086288654589248, 4.80849573861141], [7.0861823103957216, 4.808218541342276]]]}}, {"type": "Feature", "properties": {"plot_id": "P-025", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086274643760231, 4.808509036311733], [7.086082650689208, 4.808313130814069], [7.085982990081212, 4.808407720285862], [7.086174983152237, 4.808603624885215], [7.086274643760231, 4.808509036311733]]]}}, {"type": "Feature", "properties": {"plot_id": "P-026", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086167086172298, 4.808783108356289], [7.0861605062571655, 4.8087825684712735], [7.086078884298548, 4.808699940911087], [7.085883500754744, 4.808502148061644], [7.086167086172298, 4.808783108356289]]]}}, {"type": "Feature", "properties": {"plot_id": "P-027", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085836064786216, 4.808454127041162], [7.085936083282458, 4.808359198906056], [7.0860357429889715, 4.808264608535952], [7.086135408104377, 4.808170024454026], [7.085836064786216, 4.808454127041162]]]}}, {"type": "Feature", "properties": {"plot_id": "P-028", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086235074121262, 4.8080754403721], [7.086043070232457, 4.807879524094702], [7.085943409624462, 4.807974114464806], [7.085843749917948, 4.808068703936599], [7.086235074121262, 4.8080754403721]]]}}, {"type": "Feature", "properties": {"plot_id": "P-029", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085744089309952, 4.808163293408391], [7.085659823305426, 4.808243272747235], [7.085659307657877, 4.808275190641593], [7.086026844462834, 4.807787325028945], [7.085744089309952, 4.808163293408391]]]}}, {"type": "Feature", "properties": {"plot_id": "P-030", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08602657582128, 4.807802136383598], [7.08581751048929, 4.808000564339042], [7.085608445157301, 4.808198993192797], [7.085583644493481, 4.808198595240947], [7.08602657582128, 4.807802136383598]]]}}, {"type": "Feature", "properties": {"plot_id": "P-031", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085496463097047, 4.808110338862938], [7.085409577386619, 4.808022381622549], [7.0853227655976925, 4.807934499840299], [7.085235823093916, 4.807846486006308], [7.085496463097047, 4.808110338862938]]]}}, {"type": "Feature", "properties": {"plot_id": "P-032", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085148853545687, 4.8077584434263585], [7.085061880391531, 4.807670398151475], [7.08497486757218, 4.8075823133509], [7.084888084630669, 4.807494459416297], [7.085148853545687, 4.8077584434263585]]]}}, {"type": "Feature", "properties": {"plot_id": "P-033", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084809771109993, 4.80741518076017], [7.084810426487209, 4.807389175549965], [7.08502103154999, 4.807196380005589], [7.085104857631433, 4.807281017087875], [7.084809771109993, 4.80741518076017]]]}}, {"type": "Feature", "properties": {"plot_id": "P-034", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085112506703895, 4.807288739869046], [7.085192443793163, 4.807369450433185], [7.085199825125552, 4.807376902822693], [7.085279533238461, 4.807457382520861], [7.085112506703895, 4.807288739869046]]]}}, {"type": "Feature", "properties": {"plot_id": "P-035", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08528760240141, 4.807465529304906], [7.085366621782279, 4.807545313710224], [7.085375544648422, 4.807554322872998], [7.0854537112275775, 4.807633245797899], [7.08528760240141, 4.807465529304906]]]}}, {"type": "Feature", "properties": {"plot_id": "P-036", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085463880842951, 4.80764351349463], [7.085540800672876, 4.807721176987264], [7.085552726374655, 4.807733218848564], [7.085627889216692, 4.807809109074938], [7.085463880842951, 4.80764351349463]]]}}, {"type": "Feature", "properties": {"plot_id": "P-037", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085640455871981, 4.807821796821974], [7.085714978661991, 4.807897041162614], [7.085728398118994, 4.807910590390066], [7.085941034220109, 4.807699766638719], [7.085640455871981, 4.807821796821974]]]}}, {"type": "Feature", "properties": {"plot_id": "P-038", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08585248437441, 4.807609412704116], [7.085763935430195, 4.807519059667825], [7.085676984813082, 4.807430337964626], [7.085590035097451, 4.807341616261428], [7.08585248437441, 4.807609412704116]]]}}, {"type": "Feature", "properties": {"plot_id": "P-039", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085416134764708, 4.807164172855033], [7.085329280606141, 4.807075549067752], [7.085259490595203, 4.807004337245977], [7.085231636612772, 4.807003585359523], [7.085416134764708, 4.807164172855033]]]}}, {"type": "Feature", "properties": {"plot_id": "P-040", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085188716166218, 4.80695138809039], [7.085189226404876, 4.806932641234479], [7.084926357938914, 4.806664415399049], [7.084839935590093, 4.806576233580867], [7.085188716166218, 4.80695138809039]]]}}, {"type": "Feature", "properties": {"plot_id": "P-041", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08476024099941, 4.806494915758374], [7.084671656897407, 4.806404526789636], [7.084584878463305, 4.806315980257116], [7.0844927100699495, 4.8062193093983305], [7.08476024099941, 4.806494915758374]]]}}, {"type": "Feature", "properties": {"plot_id": "P-042", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084401324162736, 4.806120197828083], [7.084310236645974, 4.806021402463369], [7.084216830518208, 4.805920090929053], [7.083955216013329, 4.805636337784964], [7.084401324162736, 4.806120197828083]]]}}, {"type": "Feature", "properties": {"plot_id": "P-043", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083936617543798, 4.8056356784245615], [7.083540162106487, 4.806011963907853], [7.083539493207044, 4.806031200343354], [7.083792992573408, 4.806307597217231], [7.083936617543798, 4.8056356784245615]]]}}, {"type": "Feature", "properties": {"plot_id": "P-044", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083880228960229, 4.8064027139976835], [7.083967347252942, 4.8064977014213275], [7.0840545313538215, 4.806592759811553], [7.084140817578901, 4.806686840839221], [7.083880228960229, 4.8064027139976835]]]}}, {"type": "Feature", "properties": {"plot_id": "P-045", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084225426146483, 4.806779092007027], [7.084320034850876, 4.806882245977562], [7.0844110827024425, 4.806981517447199], [7.084501944848773, 4.807080587695133], [7.084225426146483, 4.806779092007027]]]}}, {"type": "Feature", "properties": {"plot_id": "P-046", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084741852575123, 4.807342165129556], [7.084760933337377, 4.807342996067393], [7.084712388546324, 4.80688452319639], [7.0846200425610695, 4.806792021399768], [7.084741852575123, 4.807342165129556]]]}}, {"type": "Feature", "properties": {"plot_id": "P-047", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084530552469929, 4.806694292330418], [7.084449539912959, 4.8065991036850715], [7.084361317305128, 4.806496242563979], [7.084272412275629, 4.8063998465884135], [7.084530552469929, 4.806694292330418]]]}}, {"type": "Feature", "properties": {"plot_id": "P-048", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084184161721866, 4.80630417105841], [7.0840954721465, 4.806208021220106], [7.084010958234498, 4.806110469118058], [7.0834630430491, 4.806103764123447], [7.084184161721866, 4.80630417105841]]]}}, {"type": "Feature", "properties": {"plot_id": "P-049", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083444081282433, 4.806103156865093], [7.083006040493009, 4.80651891144648], [7.0830048586504635, 4.806567281011698], [7.083286396803014, 4.806861827364554], [7.083444081282433, 4.806103156865093]]]}}, {"type": "Feature", "properties": {"plot_id": "P-050", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083368261260217, 4.806947475046911], [7.0834483326702635, 4.807031246157224], [7.083529117152356, 4.807115763764123], [7.083608112193218, 4.807198408392222], [7.083368261260217, 4.806947475046911]]]}}, {"type": "Feature", "properties": {"plot_id": "P-051", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083687977163948, 4.807281963907853], [7.083768473171888, 4.8073661787838855], [7.083846338656145, 4.807447643031101], [7.08392852764677, 4.80753362847846], [7.083687977163948, 4.807281963907853]]]}}, {"type": "Feature", "properties": {"plot_id": "P-052", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084009600603015, 4.8076184128837784], [7.0840921934574554, 4.807704857368147], [7.084201151947994, 4.80781885036132], [7.084239720942245, 4.807820132251367], [7.084009600603015, 4.8076184128837784]]]}}, {"type": "Feature", "properties": {"plot_id": "P-053", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084335565578087, 4.807732394198905], [7.084483135432516, 4.807597307062721], [7.084572865317797, 4.807515167285502], [7.084669937771751, 4.8074263054457615], [7.084335565578087, 4.807732394198905]]]}}, {"type": "Feature", "properties": {"plot_id": "P-054", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084670723863819, 4.807407289096498], [7.084502332485915, 4.807225533796462], [7.084420571699111, 4.807137284604942], [7.084336363389415, 4.807046393480256], [7.084670723863819, 4.807407289096498]]]}}, {"type": "Feature", "properties": {"plot_id": "P-055", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084253847160923, 4.80695732862219], [7.084171634731773, 4.806868591647702], [7.084089633249348, 4.80678008104763], [7.084007838206238, 4.806691795923663], [7.084253847160923, 4.80695732862219]]]}}, {"type": "Feature", "properties": {"plot_id": "P-056", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08392604406461, 4.806603509901385], [7.0838442490214995, 4.8065152238791065], [7.083762623456955, 4.806427120213997], [7.083531677360463, 4.806640192438215], [7.08392604406461, 4.806603509901385]]]}}, {"type": "Feature", "properties": {"plot_id": "P-057", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083607030415145, 4.806720400846409], [7.083616943108225, 4.806730978460494], [7.083684495641514, 4.806803058050864], [7.083699352961874, 4.806818910548169], [7.083607030415145, 4.806720400846409]]]}}, {"type": "Feature", "properties": {"plot_id": "P-058", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0837618644093405, 4.806885611949534], [7.083782376724579, 4.806907498403002], [7.08384140124072, 4.8069705930849995], [7.083865523990281, 4.806996219207889], [7.0837618644093405, 4.806885611949534]]]}}, {"type": "Feature", "properties": {"plot_id": "P-059", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083920623454979, 4.807055154709147], [7.083948672157464, 4.807084939114464], [7.08399988894036, 4.807139763045474], [7.084032093473612, 4.807173950972172], [7.083920623454979, 4.807055154709147]]]}}, {"type": "Feature", "properties": {"plot_id": "P-060", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084082348375504, 4.8072277795744], [7.084115576991998, 4.8072630302032175], [7.084161069365921, 4.807311806703397], [7.084197830889308, 4.807350796103325], [7.084082348375504, 4.8072277795744]]]}}, {"type": "Feature", "properties": {"plot_id": "P-061", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0842414716197615, 4.8073976268614995], [7.084282721620672, 4.807441656685431], [7.0842045550415165, 4.807595553559308], [7.084322615793063, 4.807480705373897], [7.0842414716197615, 4.8073976268614995]]]}}, {"type": "Feature", "properties": {"plot_id": "P-062", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084384940633811, 4.807493117339401], [7.084396960991172, 4.807329232143569], [7.084711555577207, 4.807479684892401], [7.084739050769911, 4.8074806245258905], [7.084384940633811, 4.807493117339401]]]}}, {"type": "Feature", "properties": {"plot_id": "P-063", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084808473877786, 4.807553432646624], [7.084893796418897, 4.807642916117699], [7.084977359267676, 4.807730552660996], [7.085060920313491, 4.807818189204296], [7.084808473877786, 4.807553432646624]]]}}, {"type": "Feature", "properties": {"plot_id": "P-064", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08514448316227, 4.807905825747594], [7.085228044208085, 4.807993462290892], [7.085311606155382, 4.808081098834191], [7.085374650378548, 4.808147217231604], [7.08514448316227, 4.807905825747594]]]}}, {"type": "Feature", "properties": {"plot_id": "P-065", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085501546552511, 4.808280300235557], [7.085501022791626, 4.808300950612847], [7.085399684526135, 4.808397132790354], [7.085286356553661, 4.808504695672136], [7.085501546552511, 4.808280300235557]]]}}, {"type": "Feature", "properties": {"plot_id": "P-066", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085177426009057, 4.808608084101888], [7.085080659157407, 4.808699927436419], [7.0850424273173225, 4.808698996786042], [7.084924444093206, 4.80857556254242], [7.085177426009057, 4.808608084101888]]]}}, {"type": "Feature", "properties": {"plot_id": "P-067", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084854151956945, 4.808503189204296], [7.084771069597927, 4.808415101708787], [7.084686973973447, 4.808327965524813], [7.0846034661150545, 4.8082402795744], [7.084854151956945, 4.808503189204296]]]}}, {"type": "Feature", "properties": {"plot_id": "P-068", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084519850078854, 4.808152692438216], [7.084436288131557, 4.808065055894917], [7.084352780273165, 4.807977369944504], [7.084275767590622, 4.807896912704116], [7.084519850078854, 4.808152692438216]]]}}, {"type": "Feature", "properties": {"plot_id": "P-069", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084276399529313, 4.807878042779574], [7.084496103247175, 4.807676918093983], [7.08457966429299, 4.807764554637282], [7.084581480778672, 4.80776635036132], [7.084276399529313, 4.807878042779574]]]}}, {"type": "Feature", "properties": {"plot_id": "P-070", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084663227141768, 4.80785219118058], [7.084666858310169, 4.807855781730346], [7.084746789089064, 4.807939827723878], [7.084750474346369, 4.807943367968219], [7.084663227141768, 4.80785219118058]]]}}, {"type": "Feature", "properties": {"plot_id": "P-071", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08483035013488, 4.808027464267178], [7.084834089481088, 4.808030953307781], [7.084913912082177, 4.808115099912165], [7.084917598240963, 4.808118641054817], [7.08483035013488, 4.808027464267178]]]}}, {"type": "Feature", "properties": {"plot_id": "P-072", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084997796759931, 4.808202434622909], [7.085001320652006, 4.808206125783527], [7.085081410993169, 4.808290018165848], [7.085084935786726, 4.808293711123088], [7.084997796759931, 4.808202434622909]]]}}, {"type": "Feature", "properties": {"plot_id": "P-073", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085040589196079, 4.8084663844971445], [7.085150782716585, 4.808362684353415], [7.085263439986654, 4.80825425460135], [7.085052224620743, 4.808819958877311], [7.085040589196079, 4.8084663844971445]]]}}, {"type": "Feature", "properties": {"plot_id": "P-074", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085077450783938, 4.80884635036132], [7.084967874778416, 4.808951388988701], [7.084843161091716, 4.809070938934802], [7.0847632816972785, 4.808984199804367], [7.085077450783938, 4.80884635036132]]]}}, {"type": "Feature", "properties": {"plot_id": "P-075", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084997847242908, 4.808763068830598], [7.084916371324331, 4.808677831676448], [7.084684347957174, 4.808898486545295], [7.084603874486278, 4.808811102427436], [7.084997847242908, 4.808763068830598]]]}}, {"type": "Feature", "properties": {"plot_id": "P-076", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084835345245135, 4.808593058949175], [7.084753420388656, 4.808507348385035], [7.084523021491574, 4.808723306883059], [7.084442058516098, 4.808635391863296], [7.084835345245135, 4.808593058949175]]]}}, {"type": "Feature", "properties": {"plot_id": "P-077", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08467050570524, 4.808420602068112], [7.084586950969797, 4.808333186509362], [7.08436045729156, 4.808546782448995], [7.084278123162377, 4.808457378927616], [7.08467050570524, 4.808420602068112]]]}}, {"type": "Feature", "properties": {"plot_id": "P-078", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08450301851351, 4.808245376592007], [7.084418311684419, 4.808156754601349], [7.084195071453738, 4.808367194773825], [7.084111582526461, 4.808276536311734], [7.08450301851351, 4.808245376592007]]]}}, {"type": "Feature", "properties": {"plot_id": "P-079", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084333161326318, 4.8080676708787475], [7.08424707883611, 4.807977610691899], [7.084027186708567, 4.808184893300594], [7.08394233654388, 4.80809275621831], [7.084333161326318, 4.8080676708787475]]]}}, {"type": "Feature", "properties": {"plot_id": "P-080", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08416054199911, 4.807887074400127], [7.084073153261878, 4.807795647881981], [7.083856658818967, 4.807999720824849], [7.083770249090892, 4.80790589132431], [7.08416054199911, 4.807887074400127]]]}}, {"type": "Feature", "properties": {"plot_id": "P-081", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083985025309628, 4.807703448816225], [7.083896379906868, 4.807610707170519], [7.083683331828603, 4.807811510260709], [7.083595726735757, 4.807716381802211], [7.083985025309628, 4.807703448816225]]]}}, {"type": "Feature", "properties": {"plot_id": "P-082", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08380703224984, 4.807517231604583], [7.083717032821524, 4.807423072423843], [7.083507484295329, 4.807620561644109], [7.083418209658322, 4.807523620393659], [7.08380703224984, 4.807517231604583]]]}}, {"type": "Feature", "properties": {"plot_id": "P-083", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083625982265513, 4.807327815506847], [7.083534266415986, 4.80723186239869], [7.083328281447062, 4.807425969477382], [7.083237556325954, 4.807327453487443], [7.083625982265513, 4.807327815506847]]]}}, {"type": "Feature", "properties": {"plot_id": "P-084", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083441724809196, 4.807135043318561], [7.083348491765921, 4.807037502894558], [7.083146140669842, 4.807228187407674], [7.083053885734243, 4.807128010440372], [7.083441724809196, 4.807135043318561]]]}}, {"type": "Feature", "properties": {"plot_id": "P-085", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083254396004634, 4.806939059667824], [7.083160301144826, 4.80684061644109], [7.082959838652967, 4.807025887731065], [7.08286760084552, 4.8069257278316755], [7.083254396004634, 4.806939059667824]]]}}, {"type": "Feature", "properties": {"plot_id": "P-086", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083062532746978, 4.806738332035772], [7.082927483572267, 4.806597042060925], [7.082618882938243, 4.8066556523735375], [7.0825386095962894, 4.8065684856469835], [7.083062532746978, 4.806738332035772]]]}}, {"type": "Feature", "properties": {"plot_id": "P-087", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.082930209653012, 4.806485434982233], [7.083387894630772, 4.806051035054098], [7.083388779885829, 4.806023675190641], [7.083465728563168, 4.805950955104404], [7.082930209653012, 4.806485434982233]]]}}, {"type": "Feature", "properties": {"plot_id": "P-088", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083492370052677, 4.8059518749750465], [7.083880801401126, 4.805583202678963], [7.084338183481024, 4.8051490938036485], [7.0843389163856685, 4.805128022118417], [7.083492370052677, 4.8059518749750465]]]}}, {"type": "Feature", "properties": {"plot_id": "P-089", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085543520443249, 4.808353658122729], [7.085571116601907, 4.808354353415578], [7.08574743741309, 4.8085394998402995], [7.0856488558787225, 4.808635873358087], [7.085543520443249, 4.808353658122729]]]}}, {"type": "Feature", "properties": {"plot_id": "P-090", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085550608794077, 4.808731919890605], [7.085452362610912, 4.808827967321435], [7.085354126344047, 4.808924024633688], [7.0852498862088735, 4.809025924561823], [7.085550608794077, 4.808731919890605]]]}}, {"type": "Feature", "properties": {"plot_id": "P-091", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085142407951332, 4.809130982952049], [7.08508488620523, 4.809187216333293], [7.085132234730032, 4.809235309218669], [7.085204697634293, 4.809164467501097], [7.085142407951332, 4.809130982952049]]]}}, {"type": "Feature", "properties": {"plot_id": "P-092", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085302944718939, 4.809068420968578], [7.085401190902103, 4.80897237443606], [7.085499437986749, 4.8088763279035405], [7.085597685071396, 4.808780281371022], [7.085302944718939, 4.809068420968578]]]}}, {"type": "Feature", "properties": {"plot_id": "P-093", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.08569593125456, 4.808684233940192], [7.085794009762123, 4.808588351798618], [7.08598576484197, 4.808789639976843], [7.086048477319862, 4.808855470016368], [7.08569593125456, 4.808684233940192]]]}}, {"type": "Feature", "properties": {"plot_id": "P-094", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.086049076805211, 4.808862052840659], [7.085872633392514, 4.809131471633329], [7.085759820166106, 4.809303729987622], [7.085666183259017, 4.80944670878748], [7.086049076805211, 4.808862052840659]]]}}, {"type": "Feature", "properties": {"plot_id": "P-095", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085583972632831, 4.809572240587695], [7.085467957343325, 4.809749388449714], [7.085251417826329, 4.809514253703038], [7.085394684908472, 4.809362325927257], [7.085583972632831, 4.809572240587695]]]}}, {"type": "Feature", "properties": {"plot_id": "P-096", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085492931993118, 4.809266279394738], [7.0855911727673915, 4.80917022657404], [7.085606198664834, 4.809155548169441], [7.085689419852038, 4.809074180939833], [7.085492931993118, 4.809266279394738]]]}}, {"type": "Feature", "properties": {"plot_id": "P-097", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0857424008346745, 4.809022379825927], [7.085787661527793, 4.8089781281191355], [7.085885907710958, 4.808882081586617], [7.085059771825769, 4.809306150037928], [7.0857424008346745, 4.809022379825927]]]}}, {"type": "Feature", "properties": {"plot_id": "P-098", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.085539481805108, 4.809827055535592], [7.086128573971396, 4.808939473789276], [7.086214548283797, 4.808856622549606], [7.086892810515212, 4.808373629376772], [7.085539481805108, 4.809827055535592]]]}}, {"type": "Feature", "properties": {"plot_id": "P-099", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.0871411182483035, 4.8087449355212195], [7.086716195820987, 4.808965929053379], [7.085905276947367, 4.80950284065956], [7.085272193374232, 4.805950258913243], [7.0871411182483035, 4.8087449355212195]]]}}, {"type": "Feature", "properties": {"plot_id": "P-100", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.084214018796698, 4.804363557511877], [7.0840476458363835, 4.804615100810476], [7.083972579452891, 4.804728594342635], [7.083599070331486, 4.805293310476304], [7.084214018796698, 4.804363557511877]]]}}, {"type": "Feature", "properties": {"plot_id": "P-101", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083516174579186, 4.805418642851439], [7.083450440334542, 4.805704471094343], [7.083406036049067, 4.805812093264662], [7.083372782191083, 4.805851238970734], [7.083516174579186, 4.805418642851439]]]}}, {"type": "Feature", "properties": {"plot_id": "P-102", "status": "available"}, "geometry": {"type": "Polygon", "coordinates": [[[7.083303790892956, 4.805932456182377], [7.0831762826129, 4.8060227786760885], [7.083060874020599, 4.806061576735736], [7.082889011938042, 4.806156903721004], [7.083303790892956, 4.805932456182377]]]}}]};

    const boundaryLayer = L.geoJSON(boundary, { style:{color:'#8a8a8a', weight:2, fillColor:'#bfbfbf', fillOpacity:0.25} }).addTo(map);
    const roadsLayer = L.geoJSON(roads, { style:{color:'#f5d142', weight:5} }).addTo(map);

    let a=0,s=0,r=0,n=0;
    const plotsLayer = L.geoJSON(plots, {
      style: f => ({color:'#4b5563', weight:1, fillColor:(f.properties && f.properties.status==='sold')?'#ef4444':(f.properties && f.properties.status==='reserved')?'#f59e0b':(f.properties && f.properties.status==='not_for_sale')?'#d1d5db':'#22c55e', fillOpacity:0.75}),
      onEachFeature: (f, layer) => {
        const p = f.properties || {};
        const status = (p.status||'available').replaceAll('_',' ');
        if(p.status==='sold') s++; else if(p.status==='reserved') r++; else if(p.status==='not_for_sale') n++; else a++;
        const size = p.size_sqm? `<br><b>Size:</b> ${p.size_sqm} sqm` : '';
        const price = p.price? `<br><b>Price:</b> ₦${p.price.toLocaleString()}` : '';
        layer.bindTooltip(`<b>Plot:</b> ${p.plot_id||'-'}<br><b>Status:</b> ${status}${size}${price}`, {sticky:true});
      }
    }).addTo(map);

    const bounds = boundaryLayer.getBounds(); map.fitBounds(bounds);

    const legend = L.control({position:'topright'});
    legend.onAdd = function(){const div=L.DomUtil.create('div','legend'); div.innerHTML = `
      <h4>Plot Status</h4>
      <div class="row"><span class="swatch" style="background:#22c55e;"></span> Available <b id="aCount">${a}</b></div>
      <div class="row"><span class="swatch" style="background:#ef4444;"></span> Sold <b id="sCount">${s}</b></div>
      <div class="row"><span class="swatch" style="background:#f59e0b;"></span> Reserved <b id="rCount">${r}</b></div>
      <div class="row"><span class="swatch" style="background:#d1d5db;"></span> Not for Sale <b id="nCount">${n}</b></div>
    `; return div; }; legend.addTo(map);

    L.control.layers(null, { "Boundary": boundaryLayer, "Estate Road": roadsLayer, "Plots": plotsLayer }, {collapsed:false}).addTo(map);
    document.getElementById('fitBtn').addEventListener('click', () => map.fitBounds(bounds));
  </script>
</body>
</html>
